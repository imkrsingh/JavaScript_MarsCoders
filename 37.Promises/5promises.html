<script>
    // Promise 3 stages

    // 1: pending
    // --> success or fail (Fullfilled or reject)

    // 2: resolve
    // --> fullfilled

    // 3: reject

    //Promises have two methods 1.then 2.catch

    // Code.1
    {
        /* task 
        API Students
    1: 2s roll no;
    2: 2s name and age;
    */
    }

    //executor
    //Promise Produce

    // const pobj1 = new Promise( (resolve, reject) => {

    //     setTimeout( () => {
    //         let roll_no = [1,2,3,4,5];
    //         resolve(roll_no);
    //         //reject('Error while communicating');
    //     }, 2000);
    // });
    // // Promise Consume
    // pobj1.then((rollno) => {
    //     document.write(rollno);
    // })
    // .catch((error) =>{
    //     document.write(error);
    // })


    
    //Code.2

    const pobj1 = new Promise((resolve, reject) => {
        setTimeout(() => {
            let roll_no = [1, 2, 3, 4, 5];
            resolve(roll_no);
            //reject('Error while communicating');
        }, 2000);
    });

    const getBiodata = (indexdata) => {
        return new Promise((resolve, reject) => {
            setTimeout(
                (indexdata) => {
                    let biodata = {
                        name: "Manish",
                        age: 25,
                    };
                    resolve(
                        ` My roll no is ${indexdata}. My name is ${biodata.name} and I am ${biodata.age} years old.`
                    );
                },
                2000,
                indexdata
            );
        });
    };

    // Promise Consume/receiving value
    pobj1.then((rollno) => {
            document.write(rollno +"<br>");
            return getBiodata(rollno[1]);
        }).then((anything) => {
            document.write(anything +"<br>");
        }).catch((error) => {
            document.write(error);
        });
</script>